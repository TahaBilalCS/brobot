generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Session {
  id        String   @id
  sid       String   @unique
  data      String
  expiresAt DateTime
}

model TwitchUser {
  id                   String   @id @default(uuid())
  oauthId              String   @unique
  displayName          String
  accountCreated       DateTime
  email                String
  profileImageUrl      String
  scope                String[]
  lastUpdatedTimestamp DateTime
}

model TwitchBotAuth {
  id                   String   @id @default(uuid())
  oauthId              String   @unique
  displayName          String
  accessToken          String
  refreshToken         String
  scope                String[]
  expiryInMS           Int // actually in seconds
  obtainmentEpoch      Int
  lastUpdatedTimestamp DateTime
}

model TwitchStreamerAuth {
  id                   String   @id @default(uuid())
  oauthId              String   @unique
  displayName          String
  accessToken          String
  refreshToken         String
  scope                String[]
  expiryInMS           Int
  obtainmentEpoch      Int
  lastUpdatedTimestamp DateTime
}

model Pokemon {
  id                   String   @id @default(uuid())
  twitchOauthId        String   @unique // shouldnt be unique
  // isStarterPokemon?
  level                Int
  name                 String
  species              String
  gender               String
  item                 String
  ability              String
  evs                  Json
  nature               String
  ivs                  Json
  moves                String[]
  shiny                Boolean // make boolean?

  wins                 Int
  losses               Int
  draws                Int
}
